\documentclass[5p]{elsarticle}

\usepackage{lineno,hyperref}
\usepackage[utf8]{inputenc}
\usepackage{float}
\usepackage[table]{xcolor}
\usepackage{enumitem}
\usepackage{pgfplots}
\usepackage{amssymb}% http://ctan.org/pkg/amssymb
\usepackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\pgfplotsset{width=7cm,compat=1.13} %TODO - in overlead 1.14!
\modulolinenumbers[10]

\usepackage{tabularx}

%todo macro
\newcommand*{\todo}{\textcolor{red}}
%done macro
\newcommand*{\done}{\textcolor{green}}
%note macro
\newcommand*{\note}{\textcolor{blue}}

\journal{Future Generation Computer Systems}

%%%%%%%%%%%%%%%%%%%%%%%
%% Elsevier bibliography styles
%%%%%%%%%%%%%%%%%%%%%%%
%% To change the style, put a % in front of the second line of the current style and
%% remove the % from the second line of the style you would like to use.
%%%%%%%%%%%%%%%%%%%%%%%

%% Numbered
%\bibliographystyle{model1-num-names}

%% Numbered without titles
%\bibliographystyle{model1a-num-names}

%% Harvard
%\bibliographystyle{model2-names.bst}\biboptions{authoryear}

%% Vancouver numbered
%\usepackage{numcompress}\bibliographystyle{model3-num-names}

%% Vancouver name/year
%\usepackage{numcompress}\bibliographystyle{model4-names}\biboptions{authoryear}

%% APA style
%\bibliographystyle{model5-names}\biboptions{authoryear}

%% AMA style
%\usepackage{numcompress}\bibliographystyle{model6-num-names}

%% `Elsevier LaTeX' style
\bibliographystyle{elsarticle-num}
%%%%%%%%%%%%%%%%%%%%%%%

% remove at the end
\hypersetup{draft}

\begin{document}

\begin{frontmatter}

\title{The Saga Pattern in a
Reactive Microservices
Environment (temp title)}

%% Group authors per affiliation:
 \author[firstaddress]{Martin Štefanko}

 \author[secondaddress]{Ondřej Chaloupka}
 \author[firstaddress]{Bruno Rossi}

 \address[firstaddress]{Masaryk University, Faculty of Informatics, Brno, Czech Republic}
 
 \address[secondaddress]{Red Hat, Brno, Czech Republic}

\begin{abstract}

\end{abstract}

\begin{keyword}
transactions, saga, compensating transactions, reactive, microservices, distributed system
\end{keyword}

\end{frontmatter}

%\linenumbers

\section{Introduction}

Transaction processing is widely recognized as a critical technology for modern applications \cite{java_tran_processing}. Particularly in the distributed environment, the comprehension and the achievement of these requirements, based on the currently available technology stack, represents a considerably complex programming task.

Microservices architectural pattern defines a sophisticated development technique which separates the application domain into a set of isolated services that collaborate together to model various business concepts \cite{building_ms}. Due to their distributed character, microservices applications are often inclined to many issues associated with the failure processing and the isolated development model. To ensure that the system is able to function even in a degraded state, these applications commonly provide a design that guarantees certain quality properties which are defined in the Reactive Manifesto \cite{reactive_manifesto} as the reactive systems. The four recognized attributes of reactive microservices systems are responsiveness, resilience, elasticity and the asynchronous message passing.

These characteristics naturally extend to the application of the transaction processing in a reactive environment. As transactions may presumably span multiple services while still providing ACID (Atomicity, Consistency, Isolation, Durability) guarantees, it is required that all impacted participants reach a shared uniform consensus on the transaction result. This consensus is achieved through the utilization of consensus protocols represented conventionally by the Two-phase commit protocol (2PC). However, due to their commonly locking nature, these protocols may present difficulties with the achievement of properties reactive systems need to provide.

The saga pattern \cite{sagas_publ} represents an alternative approach to transaction processing applicable for long living transactions. In a long running transaction, traditional consensus protocols may hold locks on resources for long time periods which is not acceptable in a reactive environment. The saga addresses this problem by allowing participants to commit their intermediate states as local operations. Each operation is required to define a compensation action that can semantically undo the performed operation. The pattern guarantees that either all operations are completed successfully, or the compensation actions are executed for each performed operation to amend the partial processing.

 
\section{Background}

A transaction is a unit of processing that provides all-or-nothing property to the work that is conducted within its scope, also ensuring that shared resources are protected from multiple users \cite{java_tran_processing}. It represents a unified and inseparable sequence of operations that are either all performed or none of them is applied. 

A transaction can also be viewed as a group of business logic statements that share certain common properties. Generally considered properties are one or more of atomicity, consistency, isolation, and durability. These four properties are often referenced as ACID properties \cite{haerder_reuter_1983} which describe the major points important for the transaction concepts.
 
% \begin{table*}[!htb]
% \centering
% \renewcommand{\arraystretch}{1.8}%for the vertical padding
% \caption{Contributions of existing testing models reviews (reviews of all available models)}
% \label{table:1}
% \begin{footnotesize}
% \begin{tabular}{ p{3.0cm} p{1cm} p{5cm} p{1.4cm} p{5cm} } 
%  \hline
%  \bf{Reference} & \bf{Year} & \bf{Title} & \bf{Reviewed models} & \bf{Notes} \\ 
%  \hline
%  Garcia et al.~\cite{garcia_test_2014} & 2014 & Test Process Models: Systematic Literature Review & 23 & \textbf{Focus:} Identify testing process models defined over the years. \textbf{Method:} SLR  \\
%  \hline
% \end{tabular}
% \end{footnotesize}
% \end{table*}

% \begin{figure*}[!htb]
% \centering
% \caption{SLR Search Strategy}
% \label{figure:strategy}
% 	\includegraphics[width=0.7\linewidth]{SLR_Process_Mapping.pdf}
% \end{figure*}



\section{Conclusion} 

\section*{References}
\bibliography{references.bib}

\end{document}